window.requestAnimFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b,a){return window.setTimeout(b,1000/60)}})();function calLength2(b,d,a,c){return Math.pow(b-a,2)+Math.pow(d-c,2)}function randomColor(){var b=[0,1,2];b[0]=Math.random()*100+155;b[0]=b[0].toFixed();b[1]=Math.random()*100+155;b[1]=b[1].toFixed();b[2]=Math.random()*100+155;b[2]=b[2].toFixed();var a=Math.floor(Math.random()*3);b[a]=0;return"rgba("+b[0]+","+b[1]+","+b[2]+","}function lerpAngle(e,c,f){var g=c-e;if(g>Math.PI){g=g-2*Math.PI}if(g<-Math.PI){g=g+2*Math.PI}return e+g*f}function lerpDistance(c,b,a){var d=b-c;return c+d*a}function inOboundary(g,f,c,e,d,a){return g>c&&g<e&&f>d&&f<a}function rgbColor(d,c,a){d=Math.round(d*256);c=Math.round(c*256);a=Math.round(a*256);return"rgba("+d+","+c+","+a+",1)"}function rgbNum(d,c,a){d=Math.round(d*256);c=Math.round(c*256);a=Math.round(a*256);return"rgba("+d+","+c+","+a}function rnd(a){var b=a||1;return Math.random()*b}function rateRandom(a,e){var d=0;for(var c=1;c<(e-a);c++){d+=c}var b=Math.random()*d;for(var c=1;c<(e-a);c++){b-=c;if(b<0){return c-1+a}}}function distance(d,f,c,e,b){var a=Math.abs(d-c);var g=Math.abs(f-e);if(a<b&&g<b){return true}return false}function AABBbox(g,c,e,f,a,d,b){A1=g.x+b;B1=g.x+c-b;C1=g.y+b;D1=g.y+e-b;A2=f.x+b;B2=f.x+a-b;C2=f.y+b;D2=f.y+d-b;if(A1>B2||B1<A2||C1>D2||D1<C2){return false}else{return true}}function dis2(a,f,d,e){var c=a-d;var b=f-e;return c*c+b*b}function rndi2(b,d){var c=Math.random()*(d-b)+b;return Math.floor(c)};